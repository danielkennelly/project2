iris[["Species" = "virginica"]]
iris[["Species" == "virginica"]]
iris[["Species"]]
iris.sub <- subset(iris, iris$Species == "virginica")
iris.sub
head(iris.sub)
iris.sub[["Sepal.Length"]]
mean(iris.sub[["Sepal.Length"]])
apply(iris[, 1:4, 2, mean])
apply(iris[, 1:4, 1, mean])
apply(iris, 2, mean)
apply(iris, 1, mean)
iris[, 1:4]
apply(iris[, 1:4], 1, mean)
iris[, 1:4]
?mean
apply(iris[, 1:4], 1, mean)
apply(iris[, 1:4], mean)
apply(iris[, 1:4], 2, mean)
mean1 <- apply(iris[, 1:4], 1, mean)
mean2 <- apply(iris[, 1:4], 2, mean)
mean1
mean2
class(mean1)
class(mean2)
mean2
mean2 <- apply(iris[, 1:4], 2, mean)
mean2
data(mtcars)
?mtcars
head(mtcars)
apply(mtcars, 2, mean)
sapply(mtcars, cyl, mean)
with(mtcars, tapply(mpg, cyl, mean))
tapply(mpg, cyl, mean)
tapply(mpg, "cyl", mean)
tapply("mpg", "cyl", mean)
tapply("mpg", cyl, mean)
tapply(mpg, cyl, mean)
?with
mtcars.sub <- tapply(mpg, cyl, mean)
mtcars.sub <- tapply(mpg, mean)
mtcars.sub <- tapply(mtcars["mpg"], mtcars["cyl"], mean)
mtcars["mpg"]
mtcars.sub <- tapply(mtcars[["mpg"]], mtcars[["cyl"]], mean)
mtcars.sub
mtcars
head(mtcars)
fourcyl <- with(mtcars, tapply(hp, cyl, mean))
fourcyl
fourcyl[1]
ans <- fourcyl[3] - fourcyl[1]
ans
numgear <- with(mtcars, tapply(gear, mpg, mean))
numgear
numgear <- with(mtcars, tapply(mpg, gear, mean))
numgear
debug(ls)
ls()
quit()
exit()
exit
ls
ls()
all.names
debug(ls)
debug(ls)
ls()
quit()
?numeric
?matrix
set.seed(1)
rpois(5,2)
set.seed(1)
class(rpois(5,2))
set.seed(1)
class(rpois(5,2))
set.seed(1)
rpois(5,2)
?ppois
set.seed(10)
x <- rbinom(10, 10, 0.5)
e <- rnorm(10, 0, 20)
?rbinom
?rnorm
y <- 0.5 + 2 * x + e
plot(x,y)
summary(y)
?system.time
version()
rm(list = ls())
install.packages("lattice")
install.packages("grid")
?grid
library(lattice)
library(datasets)
xyplot(Ozone ~ Wind, data = airquality)
airquality <- transform(airquality, Month = factor(Month))
xyplot(Ozone ~ Wind | Month, data = airquality, layout = c(5,1))
p <- xyplot(Ozone ~ Wind | Month, data = airquality, layout = c(5,1))
class(p)
print(p)
set.seed(10)
x <- rnorm(100)
f <- rep(0:1, each = 50)
y <- x + f - f * x + rnorm(100, sd = 0.5)
f <- factor(f, labels = c("Group 1", "Group 2"))
xyplot(y ~ x | f, layout = c(2,1))
f
summary(f)
table(f)
y
rnorm(100)
xyplot( y ~ x | f, panel = function(x, y, ...) {
panel.xyplot(x, y, ...)
panel.abline(h = median(y), lty = 2)
})
xyplot( y ~ x | f, panel = function(x, y, ...) {
panel.xyplot(x, y, ...)
panel.lmline(x, y, col = 2)
})
install.packages("ggplot2")
?qplot
library(ggplot2)
?qplot
?ggplot
str(mpg)
names(mpg)
qplot(displ, hwy, data = mpg)
qplot(displ, hwy, data = mpg, color = drv)
qplot(displ, hwy, data = mpg, color = manufacturer)
qplot(displ, hwy, data = mpg, geom = c("point", "smooth"))
qplot(hwy, data = mpg, geom = c("point", "smooth"))
qplot(hwy, data = mpg, fill = drv)
qplot(displ, hwy, data = mpg, facet = .~manufacturer)
qplot(displ, hwy, data = mpg, facets = .~manufacturer)
qplot(displ, hwy, data = mpg, facets = .~drv)
qplot(displ, hwy, data = mpg, facets = drv~., binwidth = 2)
qplot(hwy, data = mpg, facets = drv~., binwidth = 2)
ggplot(data = mpg)
ggplot(year, hwy, data = mpg)
names(mpg)
ggplot(hwy, data = mpg)
ggplot(data = mpg)
ggplot()
g <- ggplot(mpg, aes(year, hwy))
print(g)
p <- g + geom_point()
print(p)
g <- ggplot(mpg, aes(displ, hwy))
p <- g + geom_point()
print(p)
p <- g + geom_point() + geom_smooth(method = "lm")
print(p)
g + geom_point() + facet_grid(. ~ drv) + geom_smooth(method = "lm")
g
p
g + geom_point() + facet_grid(. ~ drv) + geom_smooth(method = "lm")
testdat <- data.frame(x = 1:100, y = rnorm(100))
testdat[50,2] <- 100
plot(testdat$x, testdat$y, type = "l", ylim = c(-3,3))
g <- ggplot(testdat, aes(x = x, y = y))
g + geom_line()
g <- ggplot(testdat, x = x, y = y)
g + geom_line()
g <- ggplot(testdat, aes(x = x, y = y))
g + geom_line()
testdat
install.packages("grDevices")
install.packages("grDevices")
install.packages("grDevices")
install.packages("grDevices")
install.packages("grDevices")
library(grDevices)
?colorRamp
?colorRampPalette
?heat.colors()
?topo.colors()
colors()
gray()
?gray
gray(0)
gray(1)
pal <- colorRamp(c("red", "blue"))
pal(0)
pal(1)
pal(.5)
pal(.33)
pal(.333)
pal(sqrt(2))
pal(sqrt(.5))
pal(0.80)
pal(.9)
pal(.99)
pal(.9999999999999)
pal(seq(0,1, len = 10))
pal <- colorRampPalette(c("red","yellow"))
pal(2)
pal(10)
install.packages("RColorBrewer")
library(RColorBrewer)
cols <- brewer.pal(3, "RdBu")
cols
cols <- brewer.pal(10, "RdBu")
cols
pal <- colorRampPallete(cols)
pal <- colorRampPalette(cols)
image(volcano, col = pal(20))
image(volcano, col = pal(50))
image(volcano, col = pal(100))
image(volcano, col = pal(10))
image(volcano, col = pal(5))
image(volcano, col = pal(50))
x <- rnorm(10000)
y <- rnorm(10000)
smoothScatter(x,y)
install.packages("KernSmooth")
install.packages("colorspace")
library(colorspace)
plot(x,y,col= rgb(0,0,0,0.2), pch = 19)
x <- rnorm(100)
y <- rnorm(100)
plot(x,y,col= rgb(0,0,0,0.2), pch = 19)
x <- rnorm(1000)
y <- rnorm(1000)
plot(x,y,col= rgb(0,0,0,0.2), pch = 19)
rm(list=ls())
source("datprep.R")
setwd("/Users/danielkennelly/Desktop/datascience/exdata-005/project2")
getwd()
source("datprep.R")
NEI <- readRDS("summarySCC_PM25.rds")
table(NEI$year, NEI$Emissions)
test <- sum(NEI$Emissions, NEI$year)
test <- sum(as.numeric(NEI$Emissions), NEI$year)
test <- sum(as.numeric(NEI$Emissions))
test
test <- aggregate(NEI$Emissions, by=list(labels), FUN=sum, na.rm=T)
test <- aggregate(NEI$Emissions, by=list(NEI$year), FUN=sum, na.rm=T)
test
names(test) <- c("year", "value")
test
hist(test$value)
hist(test)
hist(test$value, test$year)
barplot(test$year, test4value)
barplot(test$year, test$value)
barplot(test$value)
barplot(test$value, test$year)
barplot(test$value, xlab = test$year)
plot(test$value, xlab = test$year)
plot(test$value)
plot(test$value, xlab = c(1999, 2002, 2005, 2008))
plot(test$value, axis = c(1999, 2002, 2005, 2008))
with(test, barplot(test$year, test$value))
warnings()
with(test, barplot(test$year, test$value))
with(test, barplot(test$value, test$year))
test
with(test, barplot(test$value, test$year), col = "red")
with(test, barplot(test$value, test$year, col = "red"))
with(test, bwplot(test$value, test$year, col="red"))
library(lattice)
with(test, bwplot(test$value, test$year, col="red"))
bwplot(test)
plot(test)
plot(test, type = "l", col="red")
plot(test, type = "b", col="red")
plot(test, type = "l", col="red")
histogram(test)
histogram(test$value ~ test$year)
library(ggplot2)
qplot(test)
qplot(year, value, data=test)
plot(value,year)
plot(test$value,test$year)
plot(test$year, test$value)
plot(test$year, test$value, type="l")
barplot(test$year,test$value)
barplot(test$value, test$year)
as.date("2009")
as.Date("2009")
test
plot(names(test), test, type="l")
names(test)
data <- tapply(NEI$Emissions, NEI$year, sum)
png("plot1.png")
plot(names(data), data, type="l", xlab = "Year",
ylab=expression(~ PM[2.5] ~ "Emissions (tons)"),
main=expression("Total US Emissions by Year"))
dev.off()
barplot(names(data), data, type="l", xlab = "Year",
ylab=expression(~ PM[2.5] ~ "Emissions (tons)"),
main=expression("Total US Emissions by Year"))
barplot(data, xlab = "Year",
ylab=expression(~ PM[2.5] ~ "Emissions (tons)"),
main=expression("Total US Emissions by Year"))
barplot(data, xlab = "Year", ylab=expression(~ PM[2.5] ~ "Emissions (tons)"),
main=expression("Total US Emissions by Year"), col="red")
barplot(data, xlab = "Year", ylab=expression(~ PM[2.5] ~ "Emissions (tons)"),
main=expression("Total US"~ PM[2.5] ~ "Emissions by Year"), col="red")
baltimore <- subset(NEI, NEI$fips == "24510")
baltdat <- tapply(NEI$Emissions, NEI$year, sum)
barplot(baltdat, xlab = "Year", ylab=expression(~ PM[2.5] ~ "Emissions (tons)"),
main=expression("Total Baltimore"~ PM[2.5] ~ "Emissions by Year"),
col="red")
baltdat
baltdat <- tapply(baltimore$Emissions, baltimore$year, sum)
barplot(baltdat, xlab = "Year", ylab=expression(~ PM[2.5] ~ "Emissions (tons)"),
main=expression("Total Baltimore"~ PM[2.5] ~ "Emissions by Year"),
col="red")
png("plot2.png")
barplot(baltdat, xlab = "Year", ylab=expression(~ PM[2.5] ~ "Emissions (tons)"),
main=expression("Total Baltimore"~ PM[2.5] ~ "Emissions by Year"),
col="red")
dev.off()
png("plot1.png")
barplot(data, xlab = "Year", ylab=expression(~ PM[2.5] ~ "Emissions (tons)"),
main=expression("Total US"~ PM[2.5] ~ "Emissions by Year"), col="red")
dev.off()
head(baltimore)
table(baltimore$type)
class(baltimore$type)
baltimore$type <- as.factor(baltimore$type)
class(baltimore$type)
library(ggplot2)
qplot(year, Emissions, data = baltimore, xlab = "Year", ylab=expression(~ PM[2.5] ~ "Emissions (tons)"),
main=expression("Total Baltimore"~ PM[2.5] ~ "Emissions by Year"),
col=type)
qplot(year, Emissions, data = baltimore, xlab = "Year", ylab=expression(~ PM[2.5] ~ "Emissions (tons)"),
main=expression("Total Baltimore"~ PM[2.5] ~ "Emissions by Year"),
facets=type)
qplot(year, data = baltimore, geom = "bar", weight = Emissions,
ylab=expression(~ PM[2.5] ~ "Emissions (tons)"))
ggplot(year, data = baltimore, geom = "bar", weight = Emissions,
ylab=expression(~ PM[2.5] ~ "Emissions (tons)")
)
ggplot(year, data = baltimore, geom = "bar", weight = Emissions,
ylab=expression(~ PM[2.5] ~ "Emissions (tons)"))
qplot(year, data = baltimore, geom = "bar", weight = Emissions,
ylab=expression(~ PM[2.5] ~ "Emissions (tons)"))
ggplot(baltimore, geom = "bar")
plot <- ggplot(baltimore, aes(year, Emissions))
summary(plot)
plot + geom_bar()
plot + geom_bar(stat="identity")
plot <- plot + geom_bar(stat="identity")
plot <- plot + facet_grid(. ~ type)
plot
?ylab
g <- ggplot(baltimore, aes(year, Emissions))
g <- g + geom_bar(stat="identity")
+ facet_grid(. ~ type)
+ ylab(expression(~ PM[2.5] ~ "Emissions (tons)"))
+ ggtitle("Total Baltimore"~ PM[2.5] ~ "Emissions by Year (by Emission
Type)")
g <- ggplot(baltimore, aes(year, Emissions))
g <- g + geom_bar(stat="identity")
+ facet_grid(. ~ type)
+ ylab(expression(~ PM[2.5] ~ "Emissions (tons)"))
+ ggtitle("Total Baltimore"~ PM[2.5] ~ "Emissions by Year (by Emission Type)")
g <- ggplot(baltimore, aes(year, Emissions))
g <- g + geom_bar(stat="identity")
+ facet_grid(. ~ type)
+ ylab(expression(~ PM[2.5] ~ "Emissions (tons)"))
+ ggtitle("Total Baltimore" expression(~ PM[2.5] ~ "Emissions by Year
(by Emission Type)")
g <- ggplot(baltimore, aes(year, Emissions))
g <- g + geom_bar(stat="identity")
+ facet_grid(. ~ type)
+ ylab(expression(~ PM[2.5] ~ "Emissions (tons)"))
+ ggtitle("Total Baltimore" expression(~ PM[2.5] ~ "Emissions by Year (by Emission Type)")
g <- ggplot(baltimore, aes(year, Emissions))
g <- g + geom_bar(stat="identity")
+ facet_grid(. ~ type)
+ ylab(expression(~ PM[2.5] ~ "Emissions (tons)"))
+ ggtitle(expression("Total Baltimore"~ PM[2.5] ~ "Emissions by Year
(and by Emission Type)"))
g <- ggplot(baltimore, aes(year, Emissions))
g <- g + geom_bar(stat="identity")
+ facet_grid(. ~ type)
+ ylab(expression(~ PM[2.5] ~ "Emissions (tons)"))
+ ggtitle(expression("Total Baltimore" ~ PM[2.5] ~ "Emissions by Year
(and by Emission Type)"))
g <- ggplot(baltimore, aes(year, Emissions))
g <- g + geom_bar(stat="identity")
+ facet_grid(. ~ type)
+ ylab(expression(~ PM[2.5] ~ "Emissions (tons)"))
+ ggtitle(expression("Total Baltimore" ~ PM[2.5] ~ "Emissions by Year (and by Emission Type)"))
g <- ggplot(baltimore, aes(year, Emissions))
g <- g + geom_bar(stat="identity")
+ facet_grid(. ~ type)
+ ylab(expression(~ PM[2.5] ~ "Emissions (tons)"))
+ ggtitle(expression("Total Emissions by Year and Type"))
g <- ggplot(baltimore, aes(year, Emissions))
g <- g + geom_bar(stat="identity")
+ facet_grid(. ~ type)
+ ylab(expression(~ PM[2.5] ~ "Emissions (tons)"))
+ ggtitle("Total Emissions by Year and Type")
?ggtitle
g <- ggplot(baltimore, aes(year, Emissions))
g <- g + geom_bar(stat="identity")
+ facet_grid(. ~ type)
+ ylab(expression(~ PM[2.5] ~ "Emissions (tons)"))
g <- ggplot(baltimore, aes(year, Emissions))
g <- g + geom_bar(stat="identity")
+ facet_grid(. ~ type)
g <- NULL
g <- ggplot(baltimore, aes(year, Emissions))
g <- g + geom_bar(stat="identity")
+ facet_grid(. ~ type)
+ ylab(expression(~ PM[2.5] ~ "Emissions (tons)"))
+ ggtitle(expression("Total Baltimore" ~ PM[2.5] ~ "Emissions by Year (and by Emission Type)"))
g
plot3 <- ggplot(baltimore, aes(year, Emissions))
plot3 <- plot3 + geom_bar(stat="identity")
+ facet_grid(. ~ type)
+ ylab(expression(~ PM[2.5] ~ "Emissions (tons)"))
+ ggtitle(expression("Total Baltimore" ~ PM[2.5] ~ "Emissions by Year and Type"))
?ggtitle
plot3 <- ggplot(baltimore, aes(year, Emissions))
plot3 + geom_bar(stat="identity")
plot3 + facet_grid(. ~ type)
plot3 + ylab(expression(~ PM[2.5] ~ "Emissions (tons)"))
plot3 + ggtitle(expression("Total Baltimore" ~ PM[2.5] ~ "Emissions by Year and Type"))
plot3 <- ggplot(baltimore, aes(year, Emissions))
plot3 + geom_bar(stat="identity")
plot3 + facet_grid(. ~ type)
plot3 <- ggplot(baltimore, aes(year, Emissions))
plot3 + geom_bar(stat="identity")
plot3 + facet_grid(. ~ type)
plot3 <- plot3 + facet_grid(. ~ type)
plot3
rm(list = ls())
p <- ggplot(baltimore, aes(year, Emissions))
NEI <- readRDS("summarySCC_PM25.rds")
baltimore <- subset(NEI, NEI$fips == "24510")
baltimore$type <- as.factor(baltimore$type)
p <- ggplot(baltimore, aes(year, Emissions))
p <- p + geom_bar(stat="identity")
p
p
p + facet_grid(. ~ type)
p + ylab(expression(~ PM[2.5] ~ "Emissions (tons)"))
p + facet_grid(. ~ type)
plot3 + ylab(expression(~ PM[2.5] ~ "Emissions (tons)"))
plot3 + ggtitle(expression("Total Baltimore" ~ PM[2.5] ~ "Emissions by Year and Type"))
p + ylab(expression(~ PM[2.5] ~ "Emissions (tons)"))
p + ggtitle(expression("Total Baltimore" ~ PM[2.5] ~ "Emissions by Year and Type"))
p + facet_grid(. ~ type)
p <- p + facet_grid(. ~ type)
p <- p + ggtitle(expression("Total Baltimore" ~ PM[2.5] ~ "Emissions by Year and Type"))
p
p <- p + ylab(expression(~ PM[2.5] ~ "Emissions (tons)"))
p
plot3 <- ggplot(baltimore, aes(year, Emissions))
plot3 <- plot3 + geom_bar(stat="identity")
plot3
plot3 <- plot3 + ylab(expression(~ PM[2.5] ~ "Emissions (tons)"))
plot3
plot3 <- plot3 + ggtitle(expression("Total Baltimore" ~ PM[2.5] ~ "Emissions by Year and Type"))
plot3
plot3 <- plot3 + facet_grid(. ~ type)
plot3
plot3 <- ggplot(baltimore, aes(year, Emissions))
plot3 <- plot3 + geom_bar(stat="identity")
plot3
plot3 <- plot3 + ylab(expression(~ PM[2.5] ~ "Emissions (tons)"))
plot3
plot3 <- plot3 + ggtitle(expression("Total Baltimore" ~ PM[2.5] ~ "Emissions by Year and Type"))
plot3
plot3 <- plot3 + facet_grid(. ~ type)
plot3
plot3 <- ggplot(baltimore, aes(year, Emissions))
plot3 <- plot3 + geom_bar(stat="identity")
plot3 <- plot3 + ylab(expression(~ PM[2.5] ~ "Emissions (tons)"))
plot3 <- plot3 + ggtitle(expression("Total Baltimore" ~ PM[2.5] ~ "Emissions by Year and Type"))
plot3 <- plot3 + facet_grid(. ~ type)
plot3
png("plot3.png")
plot3 <- ggplot(baltimore, aes(year, Emissions))
plot3 <- plot3 + geom_bar(stat="identity")
plot3 <- plot3 + ylab(expression(~ PM[2.5] ~ "Emissions (tons)"))
plot3 <- plot3 + ggtitle(expression("Total Baltimore" ~ PM[2.5] ~ "Emissions by Year and Type"))
plot3 <- plot3 + facet_grid(. ~ type)
plot3
dev.off()
NEI <- readRDS("summarySCC_PM25.rds")
baltimore <- subset(NEI, NEI$fips == "24510")
baltimore$year <- as.factor(baltimore$year)
baltimore$type <- as.factor(baltimore$type)
png("plot3.png")
plot3 <- ggplot(baltimore, aes(year, Emissions))
plot3 <- plot3 + geom_bar(stat="identity")
plot3 <- plot3 + ylab(expression(~ PM[2.5] ~ "Emissions (tons)"))
plot3 <- plot3 + ggtitle(expression("Total Baltimore" ~ PM[2.5] ~ "Emissions by Year and Type"))
plot3 <- plot3 + facet_grid(. ~ type)
plot3
dev.off()
plot3 <- ggplot(baltimore, aes(year, Emissions))
plot3 <- plot3 + geom_bar(stat="identity")
plot3 <- plot3 + ylab(expression(~ PM[2.5] ~ "Emissions (tons)"))
plot3 <- plot3 + ggtitle(expression("Total Baltimore" ~ PM[2.5] ~ "Emissions by Year and Type"))
plot3 <- plot3 + facet_grid(. ~ type)
plot3
SCC <- readRDS("Source_Classification_Code.rds")
head(SCC)
names(SCC)
SCC
table(SCC)
nrow(SCC)
names(SCC)
